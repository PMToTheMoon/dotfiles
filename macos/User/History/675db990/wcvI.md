the type generator take a map as input and output 